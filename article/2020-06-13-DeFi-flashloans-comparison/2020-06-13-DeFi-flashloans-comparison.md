---
category: DeFi
title: Flashloans Comparison
date: "2020-06-13 00:00:00"
---

## 对比 Aave、dYdX 和 Uniswap 的闪电贷

作者：Julien Klepatch，他的培训课程 https://eattheblocks.com/flash

原文链接： https://defiprime.com/flahloans-comparison

如果你关注 DeFi，你可能听说过闪电贷（Flashloans）。通过 “闪速贷款”，你可以在区块链上借到大量资金，而无需任何抵押品。

你可以用这笔钱：

- 做套利策略
- 实施清算
- 交换抵押品
- 可能还有很多其他的创意用例!

当人们想到 “闪电贷”时，大家会想到 Aave，这家公司最初提出了闪电贷的概念。但也有其他 DeFi 协议提供闪电贷。

在这篇文章中，我们将介绍它们的优点和缺点，因为如果你想用闪电贷套利，你需要很了解它们。

## Aave 闪电贷

[Aave](https://Aave.com/ "Aave")是一个借贷协议。你可以在他们的平台上借入和借出 token。在 2020 年初，他们想出了“闪电贷”的点子，最终他们以“闪电贷”闻名，尽管这并不是他们的主要产品。

从正面看：

- 很多 token 选择
- 可以直接借用 ETH，而不是 WETH。
- 而且很容易集成，因为他们有很好的文档，甚至还有一个[Truffle box](https://github.com/Aave/flashloan-box "Truffle box")，你可以使用 Truffle 模板快速创建自己的 flash-loan

不好的一面：

- Aave 对每笔闪电贷收取 0.09%的费用

## dYdX 闪电贷

[dYdX](https://dYdX.exchange/ "dYdX")是一个针对专业交易者的去中心化交易所。它有一些先进的功能，如保证金交易和合成资产，可以跟踪其他资产的表现，如比特币。dYdX 还提供闪电贷款，但这是一个有点隐藏的功能，没有多少人知道它。

首先，我们需要了解 dYdX 是如何工作的。在大多数去中心化交易所的智能合约中，它们的 Solidity 代码中都有不同的切入点或功能，用于你的各种操作。

例如，有一些功能为：

- 存款
- 提款
- 还有购买等等

这就带来了一个问题，交易者必须发送几笔交易才能进行一次交易，这就需要花费更多的交易费。

我们可以用所谓的元交易来解决这个问题。使用元交易，你可以在一个交易中执行多个交易。

dYdX 内置了元交易功能。通过 dYdX，只需要一个入口就可以与智能合约进行交互。所以无论你想做哪种操作，买入、卖出、存入 token，你总是调用同一个 Solidity 函数。

当你调用这个函数时，你将定义一组你想要执行的操作。例如，你可以将三个步骤在一起执行：

1. 充值 token
2. 交易
3. 提现

这样，你就可以在一次 Ethereum 交易中完成了整个过程。一个有趣的细节是，只有在完成所有操作后，才会在交易结束时检查余额。这样做的结果是，你可以取多少 token 就取多少，而不必考虑你在交易所的实际余额是多少。

另一个有趣的细节是，有一个叫 “call” 通用方法。通过这个方法，你可以执行 Ethereum 区块链上，除 dYdX 外的任何智能合约的功能。

如何在 dYdX 上进行闪电贷？你将需要合并三个操作在一个交易中：

- 首先，通过提现操作，你可以提现很多 token，可以超出你余额中的 token。

- 然后，通过 `call` 操作，你可以在 Ethereum 的链上进行套利，调用任何你想要的 DeFi 协议。 比如 Uniswap、Kyber 等等。

- 最后，通过存款操作，偿还你借的 token，闪电贷就完成了。

从正面看：

- dYdX 没有手续费。这是巨大的优势!
- 你可以用闪电贷的资金对 dYdX 本身进行套利

不好的一面：

- token 的种类不多
- 你不能直接借 ETH。你得到的是 WETH，操作起来不太方便。
- 集成起来比较复杂，他们也没有足够详细的文档，这点是为了隐藏他们的闪电贷

## Uniswap 闪电贷

[Uniswap](https://uniswap.org/ "Uniswap")是 DeFi 中最受欢迎的去中心化交易所之一。Uniswap 最近升级到了 Uniswap V2，v2 版带来了一个新的功能，叫做 Flashswap。Flashswap 本质上是 Uniswap 对闪电贷的称呼。

在 Uniswap 上，当你想在他们的平台上购买 token：

- 首先，你要发送一些 token 用于支付
- 然后调用一个 swap()的函数，它将发送你刚刚购买的 token。

重要的是，你可以“忘记”发送给你的支付 token，先收到你购买的 token 再付款。 一旦你收到了这些 token，你就可以以任意使用它们。例如，你可以用它们在 Uniswap 或者其他 DeFi 协议上做一些套利。

而在你套利之后，你必须把支付 token 最后发给 Uniswap。如果你不这样做，整个交易就会失败。

优点：

- token 的选择很多
- 可以直接借 eth，而不是 weth
- 你可以使用 Uniswap 闪电贷 在 Uniswap 上交易
- 可供闪电贷的资产选择非常多，你可以从众多的 Uniswap 交易对中选择一个

缺点：

- 每次使用 Uniswap 的 闪电贷 都要收取 0.3%的费用。需要说明的是，这不是使用闪电贷的额外费用。这是你在 Uniswap 上进行每笔交易的常规费用。

## 选择哪一个闪电贷

如果你想借 ETH、DAI 或 USDC，我会选择 dYdX，因为它是唯一一家不收取费用的。
如果你想获取更多的资产，我会选择 Aave。
而如果你还想获取更多的资产，我会用 Uniswap。
